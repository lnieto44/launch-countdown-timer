{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\frontend-sprint-2-lnieto44\\\\reto_2\\\\components\\\\Countdown.js\";\nimport { useRouter } from \"next/router\";\nimport { DateTime } from \"luxon\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport FlippingNumber from \"./FlippingNumber\";\nimport { CountdownContainer } from \"../styles/StyledComponent\";\n\nconst getTimeLeft = endDate => {\n  const now = DateTime.local();\n  const {\n    days,\n    hours,\n    minutes,\n    seconds\n  } = endDate.diff(now, [\"days\", \"hours\", \"minutes\", \"seconds\"]);\n  return {\n    days: Math.max(0, Math.trunc(days)),\n    hours: Math.max(0, Math.trunc(hours)),\n    minutes: Math.max(0, Math.trunc(minutes)),\n    seconds: Math.max(0, Math.trunc(seconds))\n  };\n};\n\nconst useCountdown = endDate => {\n  const initial = getTimeLeft(endDate);\n  const {\n    0: {\n      current,\n      previous\n    },\n    1: setCountdown\n  } = useState({\n    current: initial,\n    previous: null\n  });\n  useEffect(() => {\n    const timer = window.setInterval(() => {\n      setCountdown(({\n        current\n      }) => {\n        return {\n          previous: current,\n          current: getTimeLeft(endDate)\n        };\n      });\n    }, 1000);\n    return () => clearInterval(timer); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return {\n    previous,\n    current\n  };\n};\n\nexport default function Countdown() {\n  const router = useRouter();\n  const defaultTime = useMemo(() => DateTime.local(2022, 4, 12, 0), []);\n  const initialDate = router.query.date ? DateTime.fromISO(Array.isArray(router.query.date) ? router.query.date[0] : router.query.date) : null;\n  const {\n    current\n  } = useCountdown(initialDate && initialDate.isValid ? initialDate : defaultTime);\n  const INTERVAL = 1000;\n  return /*#__PURE__*/_jsxDEV(CountdownContainer, {\n    children: Object.keys(current).map(key => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(FlippingNumber, {\n          animationDuration: INTERVAL,\n          number: current[key]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mobile\",\n          children: key.charAt(0).toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"desktop\",\n          children: key.charAt(0).toUpperCase() + key.substr(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/frontend-sprint-2-lnieto44/reto_2/components/Countdown.js"],"names":["useRouter","DateTime","useEffect","useMemo","useState","FlippingNumber","CountdownContainer","getTimeLeft","endDate","now","local","days","hours","minutes","seconds","diff","Math","max","trunc","useCountdown","initial","current","previous","setCountdown","timer","window","setInterval","clearInterval","Countdown","router","defaultTime","initialDate","query","date","fromISO","Array","isArray","isValid","INTERVAL","Object","keys","map","key","charAt","toUpperCase","substr"],"mappings":"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","sourcesContent":["import { useRouter } from \"next/router\";\nimport { DateTime } from \"luxon\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport FlippingNumber from \"./FlippingNumber\";\nimport { CountdownContainer } from \"../styles/StyledComponent\";\n\n\n\nconst getTimeLeft = (endDate) => {\n  const now = DateTime.local();\n  const { days, hours, minutes, seconds } = endDate.diff(now, [\n    \"days\",\n    \"hours\",\n    \"minutes\",\n    \"seconds\",\n  ]);\n  return {\n    days: Math.max(0, Math.trunc(days)),\n    hours: Math.max(0, Math.trunc(hours)),\n    minutes: Math.max(0, Math.trunc(minutes)),\n    seconds: Math.max(0, Math.trunc(seconds)),\n  };\n};\n\nconst useCountdown = (endDate) => {\n  const initial = getTimeLeft(endDate);\n  const [{ current, previous }, setCountdown] = useState({\n    current: initial,\n    previous: null,\n  });\n\n  useEffect(() => {\n    const timer = window.setInterval(() => {\n      setCountdown(({ current }) => {\n        return {\n          previous: current,\n          current: getTimeLeft(endDate),\n        };\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return { previous, current };\n};\n\nexport default function Countdown() {\n  const router = useRouter();\n  const defaultTime = useMemo(() => DateTime.local(2022, 4, 12, 0), []);\n  const initialDate = router.query.date\n    ? DateTime.fromISO(\n        Array.isArray(router.query.date)\n          ? router.query.date[0]\n          : router.query.date\n      )\n    : null;\n  const { current } = useCountdown(\n    initialDate && initialDate.isValid ? initialDate : defaultTime\n  );\n\n  const INTERVAL = 1000;\n\n\n  return (\n    <CountdownContainer>\n      {Object.keys(current).map((key) => {\n        return (\n          <div key={key}>\n            <FlippingNumber\n              animationDuration={INTERVAL}\n              number={current[key]}\n            />\n            <div className=\"mobile\">{key.charAt(0).toUpperCase()}</div>\n            <div className=\"desktop\">\n              {key.charAt(0).toUpperCase() + key.substr(1)}\n            </div>\n          </div>\n        );\n      })}\n    </CountdownContainer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}